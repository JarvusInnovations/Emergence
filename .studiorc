#!/bin/bash

echo "    * Use 'npm-install' to set up node_modules/"
npm-install() {
    echo "    Installing dependencies"

    # TODO: add core/node back to second line afte merged: https://github.com/habitat-sh/core-plans/pull/1111
    hab pkg install -b results/core-node-8.9.1-20180101011703-x86_64-linux.hart
    hab pkg install -b core/git core/python2 core/gcc


    echo "    Running: npm install"
    pushd /src > /dev/null
    npm install
    popd > /dev/null
}



echo "    * Use 'kernel-debug' to run the kernel with remote debugging enabled"
kernel-debug() {
    node --inspect-brk=0.0.0.0:9229 kernel.js
}

echo "    * Use 'kernel-run' to run the kernel "
kernel-run() {
    node kernel.js
}


echo